(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?module.exports=e(require("vue"),require("intact/dist/intact")):typeof define==="function"&&define.amd?define(["vue","intact/dist/intact"],e):t.Intact=e(t.Vue,t.Intact)})(this,function(t,e){"use strict";t=t&&t.hasOwnProperty("default")?t["default"]:t;e=e&&e.hasOwnProperty("default")?e["default"]:e;var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var a=function(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}};var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){t[n]=r[n]}}}return t};var r=function(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e};var s=function(t,e){var r={};for(var n in t){if(e.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(t,n))continue;r[n]=t[n]}return r};var u=function(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t};var i=e.Vdt.miss.h;var o=t.prototype.__patch__;var f=e.utils;var c=f.get;var p=f.set;function g(t){if(Array.isArray(t)){var e=[];t.forEach(function(t){e.push(v(t))});return e}return v(t)}function v(t){if(t==null)return t;var e=typeof t==="undefined"?"undefined":n(t);if(e==="string"||e==="number")return t;if(t.type)return t;if(j(t)){var r=t.componentOptions;return i(r.Ctor,d(t),null,null,t.key,t.ref)}if(t.text!==undefined){return t.text}return i(y,{vueVNode:t},null,N(t))}function d(t){var r=t.componentOptions;var e=t.data;var n=e.attrs;var i=r.Ctor.propTypes;var o={};if(n){for(var a in n){if(~["staticClass","class","style","staticStyle"].indexOf(a))continue;var s=n[a];if(i&&i[a]===Boolean&&s===""){s=true}o[a]=s}}o.className=N(t);o.style=I(t);if(t.key){o.key=t.key}var u=e.scopedSlots;if(u){var f=function t(e){o[e]=function(){return g(u[e].apply(this,arguments))}};for(var l in u){f(l)}}var c=e.model;if(c){o.value=c.value;o["v-model"]=c.expression}else if(e.directives){var p=e.directives;for(var v=0;v<p.length;v++){var d=p[v];if(d.name==="model"){o.value=d.value;o["v-model"]=d.expression;break}}}O(t,o);for(var h in r.listeners){if(h==="input"){o["ev-$change:value"]=function(t,e){r.listeners.input(e)}}else{o["ev-"+h]=r.listeners[h]}}var y=t.slots||k(r.children);var _=A(y),m=_.children,b=_._blocks;o.children=m;if(o._blocks){Object.assign(o._blocks,b)}else{o._blocks=b}return o}function A(t){var e=t.default,r=s(t,["default"]);var n=void 0;if(r){n={};var i=function t(e){n[e]=function(){return g(r[e])}};for(var o in r){i(o)}}return{children:g(e),_blocks:n}}function h(f){function t(t){return f(t)}t.options={functional:true,render:function t(e,r){var n=r.parent.$data;var i=l({_context:{data:{get:function t(e){if(e!=null){return c(n,e)}else{return n}},set:function t(e,r){p(n,e,r)}}}},d({componentOptions:{Ctor:f,listeners:r.listeners},data:r.data,slots:r.slots()}));var o=f(i,true);if(Array.isArray(o)){throw new Error("Array children does not be supported.")}var a={};var s={attrs:a};for(var u in o.props){if(~["children","_context","className","style"].indexOf(u))continue;a[u]=o.props[u]}if(o.props.className){s.staticClass=o.props.className}if(o.props.style){s.staticStyle=o.props.style}return e(o.tag,s,o.props.children)}};t.cid="IntactFunctionalComponent";return t}var y=function(){function t(){a(this,t)}t.prototype.init=function t(e,r){this.destroyed=true;this._addProps(r);return o(null,r.props.vueVNode,false,false,this.parentDom)};t.prototype.update=function t(e,r){this._addProps(r);return o(e.props.vueVNode,r.props.vueVNode,false,false,this.parentDom)};t.prototype.destroy=function t(e){o(e.props.vueVNode,null)};t.prototype._addProps=function t(e){this.vdt={vNode:e};var r=e.props;var n=r.vueVNode;for(var i in r){if(i==="vueVNode")continue;if(!n.data)n.data={};var o=n.data;var a=r[i];if(i.substr(0,3)==="ev-"){if(!o.on)o.on={};o.on[i.substr(3)]=a}else{if(!o.attrs)o.attrs={};o.attrs[i]=a}}};return t}();function O(r,t){var n=r.data.ref;if(n){var i=r.context.$refs;var o=void 0;t.ref=function(t){if(t){o=t;if(r.data.refInFor){if(!Array.isArray(i)){i[n]=[o]}else if(i[n].indexOf(o)<0){i[n].push(o)}}else{i[n]=o}}else{if(Array.isArray(i[n])){var e=i[n].indexOf(o);if(~e){i[n].splice(e,1)}}else{i[n]=o=undefined}}}}}function N(t){var e=void 0;var r=t.data;if(r){if(r.staticClass){e=r.staticClass}if(r.class){if(!e){e=_(r.class)}else{e+=" "+_(r.class)}}}return e}function _(t){if(t==null)return"";if(Array.isArray(t)){return m(t)}if((typeof t==="undefined"?"undefined":n(t))==="object"){return b(t)}if(typeof t==="string"){return t}return""}function m(t){var e="";var r=void 0;for(var n=0;n<t.length;n++){if((r=_(t[n]))!=null&&r!==""){if(e)e+=" ";e+=r}}return e}function b(t){var e="";for(var r in t){if(t[r]){if(e)e+=" ";e+=r}}return e}function I(t){var e=void 0;var r=t.data;if(r){e=x(r.style);if(r.staticStyle){return Object.assign(r.staticStyle,e)}}return e}function x(t){if(!t)return t;if(Array.isArray(t)){return $(t)}if(typeof t==="string"){return C(t)}return t}function $(t){var e={};for(var r=0;r<t.length;r++){if(t[r]){Object.assign(e,t[r])}}return e}var V=Object.create(null);function C(t){var e=V[t];if(e)return e;var r={};var n=/;(?![^(]*\))/g;var i=/:(.+)/;t.split(n).forEach(function(t){if(t){var e=t.split(i);e.length>1&&(r[e[0].trim()]=e[1].trim())}});V[t]=r;return r}function j(t){var e=t.data;return e&&(e=e.hook)&&(e=e.init)&&t.componentOptions.Ctor.cid==="IntactVue"}function k(t){var e={};if(!t){return e}for(var r=0,n=t.length;r<n;r++){var i=t[r];var o=i.data;if(o&&o.attrs&&o.attrs.slot){delete o.attrs.slot}if(o&&o.slot!=null){var a=o.slot;var s=e[a]||(e[a]=[]);if(i.tag==="template"){s.push.apply(s,i.children||[])}else{s.push(i)}}else{(e.default||(e.default=[])).push(i)}}for(var u in e){if(e[u].every(w)){delete e[u]}}return e}function w(t){return t.isComment&&!t.asyncFactory||t.text===" "}var Q=t.prototype;var P=Q.init;var S=Q.$nextTick;var E=Q._updateFromParent;var T={};var M=void 0;var F=function(o){r(i,o);function i(t){a(this,i);var e=t&&t._parentVnode;if(e){var r=v(e);var n=u(this,o.call(this,r.props));t.mounted=[n.mount];t._renderChildren=true;n.$options=t;n.$vnode=e;n._isVue=true;n.vNode=r;r.children=n}else{var n=u(this,o.call(this,t))}n._prevActiveInstance=T;T=n;return u(n)}i.prototype.init=function t(e,r){M=this.mountedQueue;var n=o.prototype.init.call(this,e,r);T=this._prevActiveInstance;this._prevActiveInstance=null;return n};i.prototype.update=function t(e,r,n){if(r||n||this._updateCount!==0){M=this.mountedQueue}this._prevActiveInstance=T;T=this;var i=o.prototype.update.call(this,e,r,n);T=this._prevActiveInstance;this._prevActiveInstance=null;return i};i.prototype.$mount=function t(e,r){this.__initMountedQueue();this.parentVNode=this.vNode.parentVNode=this._prevActiveInstance.vNode;this.$el=o.prototype.init.call(this,null,this.vNode);this._vnode={};var n=this.$options;var i=n._refElm;if(i){n._parentElm.replaceChild(this.$el,i)}else{n._parentElm.appendChild(this.$el)}this.__triggerMountedQueue();T=this._prevActiveInstance;this._prevActiveInstance=null};i.prototype.$forceUpdate=function t(){this.__initMountedQueue();this._prevActiveInstance=T;T=this;var e=v(this.$vnode);var r=this.vNode;e.children=this;this.vNode=e;this.parentVNode=this.vNode.parentVNode=this._prevActiveInstance.vNode;o.prototype.update.call(this,r,e);this.$options._renderChildren=true;this._vnode=this.vdt.vNode;this.__triggerMountedQueue();T=this._prevActiveInstance;this._prevActiveInstance=null};i.prototype.$destroy=function t(){this.destroy()};i.prototype.__initMountedQueue=function t(){this._shouldTrigger=false;if(!M){this._shouldTrigger=true;if(!this.mountedQueue){o.prototype._initMountedQueue.call(this)}M=this.mountedQueue}else{this.mountedQueue=M}};i.prototype.__triggerMountedQueue=function t(){if(this._shouldTrigger){o.prototype._triggerMountedQueue.call(this);M=null;this._shouldTrigger=false}};i.prototype.$on=function t(){};i.prototype.$off=function t(){};return i}(e);F.cid="IntactVue";F.options=Object.assign({},t.options);F.functionalWrapper=h;F.normalize=g;F.prototype.$nextTick=S;F.prototype._updateFromParent=E;return F});